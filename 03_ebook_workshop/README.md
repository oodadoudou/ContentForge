============================================================
             模块三: 电子书工坊 (03_ebook_workshop)
============================================================

【简介】
  本模块是您的电子书“创作中心”，提供了一系列强大的工具，用于
  从零创建、编辑、分割和美化电子书（EPUB/TXT/HTML）文件。


【核心脚本】
  - txt_to_epub_convertor.py
  - split_epub.py
  - batch_replacer.py
  - epub_styler.py
  - convert_md_to_html.py


【使用方法】
  本模块的所有功能都已整合到项目根目录的 main.py 交互式菜单中。

  1. 在终端中，进入 ContentForge 根目录，运行 `python main.py`。
  2. 在主菜单选择 "3. 电子书工坊"。
  3. 根据菜单提示选择您需要的功能。


--------------------- 功能与用法详解 ---------------------

+ + + 1. 从 TXT 创建 EPUB + + +

  - 对应脚本: txt_to_epub_convertor.py
  - 功能: 能够智能地将一个纯文本（TXT）文件转换为一个带有封面、
    章节目录、可自定义样式的标准 EPUB 电子书。

  【准备工作：TXT 文件格式】
    为了让脚本能正确识别目录，您需要使用特定格式来标记章节
    标题。脚本默认的规则是：
      - 一级标题: 以 `# 标题` 的形式 (例如: # 第1章)
      - 二级标题: 以 `## 标题` 的形式 (例如: ## 1.1 小节)
    【注意】: `#` 或 `##` 必须位于一行的开头。

  【操作流程】
    运行此功能后，脚本会通过交互式问答引导您完成以下步骤：
      1. 输入 TXT 文件所在的目录。
      2. 定义或确认章节识别规则:
         - 脚本会询问是否使用默认的 `#` 和 `##` 规则。
         - 如果您的 TXT 使用了不同的标题格式（例如“第一章”），
           您可以选择【否】，然后根据提示输入您自己的
           【正则表达式】来进行匹配。
      3. 预览并修改自动生成的目录。
      4. 确认最终的电子书标题。


+ + + 2. 分割 EPUB 文件 + + +

  - 对应脚本: split_epub.py
  - 功能: 将一个大型的 EPUB 文件，按您指定的卷数（parts）
    平均分割成多个独立的小卷。
  - 操作流程: 运行后，根据提示依次输入包含 EPUB 的目录路径和
    您希望分割成的文件数量即可。


+ + + 3. 批量替换 EPUB/TXT 内容 + + +

  - 对应脚本: batch_replacer.py
  - 功能: 根据您预先定义的规则，批量替换指定目录内所有 EPUB
    和 TXT 文件中的文本内容，并生成高亮对比报告。
  - 准备工作:
    1. 在 `shared_assets` 文件夹中找到 `rules.txt` 模板文件。
    2. 将其【复制】到您将要处理的电子书所在的目录。
    3. 根据您的需求，修改该目录下的 `rules.txt` 文件。
  - 操作流程: 运行功能后，脚本会提示您输入包含电子书和
    `rules.txt` 的目录路径，然后自动执行所有替换操作。


+ + + 4. 批量统一 EPUB 样式 + + +

  - 对应脚本: epub_styler.py
  - 功能: 使用一个标准的 CSS 样式文件，一键统一替换指定目录内
    所有 EPUB 文件的内部样式，实现风格的统一。
  - 【注意】: 通过 `main.py` 运行时，主控脚本会自动从
    `shared_assets` 文件夹复制 `new_style.css` 模板到
    正确位置，您无需手动操作，只需按提示输入 EPUB 所在
    目录即可。


+ + + 5. 从 Markdown 创建 HTML + + +

  - 对应脚本: convert_md_to_html.py
  - 功能: 将指定目录下的所有 Markdown (.md) 文件，批量转换为
    带有美观样式和代码高亮的、自包含的 HTML 文件。
  - 准备工作:
    1. 将您的 .md 文件放入一个文件夹。
    2. (可选) 确保 `shared_assets` 目录下存在 `highlight.min.js`
       文件，以便为代码块提供语法高亮功能。
  - 操作流程: 运行此功能后，根据提示输入包含 Markdown 文件的
    目录路径即可。转换后的 HTML 会保存在该目录下的
    `processed_files` 子文件夹中。